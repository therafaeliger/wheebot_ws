/* Base palette: white (dominant), black (secondary), blue accent */
:root{
  --bg:#ffffff;
  --fg:#000000;
  --muted:#f5f6f8;
  --blue:#007BFF;
  --blue-dark:#0056b3;
  --ok:#00c851;
  --err:#ff4444;
}

* { box-sizing: border-box; }
html, body { height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
}

.wrap{ max-width:1200px; margin:0 auto; padding:16px; }

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; background:#f8f9fa; border-radius:14px;
  box-shadow:0 1px 8px rgba(0,0,0,0.06);
}
.brand{ font-weight:700; font-size:20px; color:var(--blue); letter-spacing:0.3px; }
.status-block{ display:flex; gap:18px; font-weight:600; }

/* --- UBAH (Req 1): Style Status Bar --- */
.port-stat, .rbt-stat {
  background: var(--muted);
  padding: 8px 12px;
  border-radius: 10px;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.04);
  font-weight: 600;
  color: #555; /* Warna label "PORT STAT:" */
  display: flex;
  align-items: center;
  gap: 8px;
}
#portStatSpan, #rbtStat {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 13px;
  color: #fff;
  transition: background 0.3s;
}
/* Kelas status dinamis */
.stat-on { background: var(--ok); }
.stat-off { background: var(--err); }
.stat-ok { background: var(--ok); color: #fff; }
.stat-err { background: var(--err); color: #fff; }
/* --- Akhir Perubahan (Req 1) --- */


.grid{
  margin-top:16px;
  display:grid;
  grid-template-columns: 1fr 360px;
  grid-template-rows: auto auto; 
  gap:16px;
}

/* Panels */
.panel{
  background:#f8f9fa; border-radius:16px; box-shadow:0 1px 10px rgba(0,0,0,0.06);
  padding:12px;
}
.panel-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
}
.title{ font-weight:700; letter-spacing:0.3px; }

/* Layout Grid */
.map-panel{ grid-column:1 / 2; grid-row:1 / 2; }
.right-col{ grid-column:2 / 3; grid-row:1 / 2; display:flex; flex-direction:column; gap:12px; } /* UBAH: gap 12px agar rapi */
.bottom-strip{ grid-column:1 / 3; grid-row:2 / 3; display:flex; gap:12px; }

.mini{ flex:1; background:#fff; border-radius:12px; padding:10px; box-shadow:inset 0 0 0 1px #eee; }

.title-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
  gap: 8px;
}
.title-bar .title { white-space: nowrap; }
.title-bar label {
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
  width: 100%;
}
.topic-input-mini {
  padding: 4px 8px;
  border-radius: 6px;
  border: 1px solid #ddd;
  background: #fff;
  width: 100%;
  font-size: 12px;
}

/* Canvas & media */
#mapCanvas{ width:100%; height:450px; background:#fff; border-radius:10px; }
#scanMini, #cloudMini{ width:100%; height:160px; background:#fff; border-radius:8px; }
#imgPreview{ 
  width:100%; 
  height:160px;
  object-fit:cover; 
  border-radius:8px; 
  background: #eee;
}

/* Blocks */
.block{ background:#fff; border-radius:12px; padding:12px; box-shadow:inset 0 0 0 1px #eee; }
/* HAPUS (Req 2): .block.compact tidak dipakai lagi */
.kv{ font-weight:700; margin-bottom: 4px; /* Margin agar rapi */ }

.estop{
  width:100%; padding:12px; border:none; border-radius:10px; font-weight:800; color:#fff;
  background:#d32f2f; cursor:pointer; transition:.2s;
}
.estop.on{ background:#ff0000; box-shadow:0 0 10px rgba(255,0,0,.7); }

.wasd{ display:flex; flex-direction:column; align-items:center; gap:6px; margin-top:6px; }
.wasd button{
  width:56px; height:56px; border:none; border-radius:12px; color:#fff; background:var(--blue); font-weight:800; cursor:pointer;
}
.wasd .mid{ display:flex; gap:6px; }

button:hover{ filter:brightness(.95); }
button:active{ transform:translateY(1px); }

.selects label {
  font-weight: 600;
  font-size: 14px;
}
.topic-input {
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid #ddd;
  background: #fff;
  margin-left: 4px;
  width: 200px;
}

.map-actions{ display:flex; align-items:center; gap:8px; margin-top:8px; }
#navToPoseBtn{
  padding:8px 10px; border:none; border-radius:10px; background:var(--blue); color:#fff; font-weight:700; cursor:pointer;
}

/* --- UBAH (Req 3): Style Tombol Nav di dalam .block --- */
.block #navToPoseBtn {
  width: 100%;
  margin-top: 10px;
}

/* HAPUS (Req 3): .divider tidak dipakai lagi */
.info{ font-size:12px; color:#444; }